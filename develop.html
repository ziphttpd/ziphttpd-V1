<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>ZipHttpd ガイド - ドキュメント作成</title>
	<link rel="stylesheet" type="text/css" href="css/common.css">
	<link rel="stylesheet" type="text/css" href="highlight/a11y-dark.css">
	<script src="highlight/highlight.pack.js"></script>
	<script type="text/javascript"
		src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
	<script src="js/util.js"></script>
	<script src="js/side.js"></script>
</head>

<body>
	<div id="side">
		<div class="title">
			<img class="minilogo" src="img/ZipHttpd.svg" />
			&nbsp;ZipHttpd<br>
			&nbsp;ガイドブック<br>
		</div>
		<div class="version">ver 0.02&nbsp;(2020/12)</div>
		<hr class="isohr" />

		<div id="toc">目次<br></div>

		<hr class="isohr" />
		<div id="google_translate_element"></div>

	</div>
	<div id="main">

		<a name="develop"></a>
		<h1>ドキュメント作成</h1>
		<h2>ドキュメント作成ガイド</h2>

		<div class="ind30px">
			<h4>開発手順</h4>
			<p class="ind1em">
				ドキュメントを制作する手順は以下の通りです。<br>
			</p>
			<h3>１．ドキュメント開発環境を用意する</h3>
			<p class="ind1em">
				まずはドキュメントの名前を決めます。<br>
				<a href="files/prototype.zhd">prototype.zhd</a> を docs/{{任意の名前}}.zhd として保存します。<br>
				このガイドでは docs/test.zhd として説明してあります。<br>
			</p>

			<h3>２．ZipHttpd を再起動する</h3>
			<p class="ind1em">
				再起動により static/localhost/prototype/{{任意の名前}} が作成されます。<br>
				static/ はドキュメントの内容を利用者側で差し替えるためのディレクトリです。<br>
				ここに置いたファイルはアクセス時に優先的に使用されます。<br>
			</p>

			<h3>３．コンテンツを作成する</h3>
			<p class="ind1em">
				２．で作成されたディレクトリに html や画像などのコンテンツを作成します。<br>
			</p>
			<p class="ind1em">
				初期表示ページとして index.html が固定されています。<br>
				ですので、まずは index.html から作成してください。<br>
			</p>
			<p class="append">
				変更したい場合は docs/{{任意の名前}}.json の docroot 項目で設定してください。<br>
			</p>

			<h3>４．ブラウザで動作を確認する</h3>
			<p class="ind1em">
				コンテンツを作成したらブラウザで確認できます。<br>
				<a href="http://localhost:8823" target="top">トップページ</a>の localhost - prototype - {{任意の名前}} です。<br>
			</p>
			<p class="ind2em">
				<img src="img/prototype-menu.png">
			</p>

			<h3>５．設定ファイルを作成する</h3>
			<p class="ind1em">
				設定ファイル ziphttpd/config.json を作成してください。<br>
				配布されたドキュメントの各種設定を提供します。<br>
			</p>

			<h3>６．ディレクトリ以下を zip 圧縮する</h3>
			<p class="ind1em">
				ディレクトリ以下を zip 圧縮すると、配布できるドキュメントが完成です。<br>
			</p>

			<h3>６．ドキュメントを署名する</h3>
			<p class="ind1em">
				作成したドキュメントは https で公開します。<br>
			</p>
			<p class="ind1em">
				設定ファイルの host 設定から SSL を使用して公開鍵と署名のファイルを取得します。<br>
				そして、署名が無いドキュメントがドキュメントグループにある場合は警告します。<br>
				SSL によりドキュメントの配布元の公開鍵と署名の正当性を担保するというコンセプトです。<br>
			</p>
			<p class="append">
				DNS キャッシュポイズニングによるサイト偽装が脅威ですが、攻撃コスト的に見合わないだろうとの判断です。<br>
				ドキュメント配布元を狙うよりも銀行サイトなど優先度の高い攻撃目標がいくらでもあります。<br>
			</p>
			<p class="ind1em">
				以上の理由より<a href="#zhd.json">host設定</a>には、作成者が管理している WEB サーバを指定しておいてください。<br>
				署名ツールなどは、MIT ライセンスで提供予定です。<br>
			</p>

			<p class="append">
				zhget では配布サイトで公開されている公開鍵で署名を確認してダウンロードします。<br>
				公開鍵の正当性を、SSL をもって担保とするコンセプトで、利用のためにドメインの取得は必須です。<br>
				ドメインの維持費以外は GCP 無料枠や Amazon S3 などを使うことでコストは月で数円程度に抑えられます。<br>
			</p>
		</div>

		<hr />
		copyright ZipHttpd.com 2020<br>
	</div>
</body>

</html> 